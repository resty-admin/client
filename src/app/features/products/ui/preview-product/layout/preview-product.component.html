<div class="preview-product" *ngIf="product">
	<div class="product" [class.active]="productsToOrders?.length">
		<app-image class="image" [remote]="true" [name]="product.file?.url" placeholder="product"></app-image>

		<p class="name">{{ product.name }}</p>
		<p class="description">{{ product.description }}</p>

		<hr class="divider" />

		<p class="price">{{ product.price }} грн</p>
		<p class="cal"></p>

		<app-counter
			theme="1"
			class="counter"
			[value]="count"
			(minusClicked)="emitMinusClick(product.id)"
			(plusClicked)="emitPlusClick(product.id)"
		></app-counter>
	</div>

	<ul class="products-with-attributes" *ngIf="productsToOrdersWithAttributes?.length">
		<li
			class="product-with-attribute"
			*ngFor="let productToOrder of productsToOrdersWithAttributes; trackBy: trackByFn"
		>
			<p class="name">{{ productToOrder.product.name }}</p>
			<p class="cal">250 гр</p>
			<p class="attributes">{{ productToOrder.attributesName }}</p>
			<p class="price">{{ productToOrder.product.price }} грн</p>
			<app-counter
				theme="2"
				class="counter"
				[value]="productToOrder.count"
				(plusClicked)="emitPlusClick(productToOrder.product.id || '', productToOrder.attributes)"
				(minusClicked)="emitMinusClick(productToOrder.product.id || '', productToOrder.attributes)"
			></app-counter>
		</li>
	</ul>
</div>
